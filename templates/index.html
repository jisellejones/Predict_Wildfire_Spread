<!DOCTYPE html>
<html lang="en">
<!-- Importing Scripts and Stylesheets -->
<head>
  <meta charset="utf-8">
  <title>Wildfire Spread Prediction</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Import Mapbox -->
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js"></script>
  <!-- Import Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- d3 JavaScript -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <!-- Import Highcharts and JQuery -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
  <!-- Style Sheet  -->
  <link rel="stylesheet" href="/static/css/style.css">
  <link rel="stylesheet"  href="{{ url_for('static',filename='css/style.css') }}">
</head>

<!-- Navigation -->

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Predict the Spread of Wildfire</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#fireinfo">Fire Information</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#machinel">Machine Learning</a>
          </li>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#fmap">Fire Severity Map</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<!--End Navigation -->

<!-- Title Header  -->

<body>
  <div class="container-fluid1">
      <div class="col-md-12" id="headertext">
          <h1>Predict the Spread of Wildfire</h1>
      </div>
</div>   

<div class="subtitle1">
  <h2>Analysis of Weather and Oregon Fire Data: 2008 - 2020</h2>
</div>

<div class="text-center" id="headerbtn" style="margin-top: 50px;">
  <a href="#about" button type="button" class="btn btn-primary">Learn More</a>
</div>

<!-- End Title Header -->

<!-- About - Project Information -->

<section class="section" id="features">
  <div class="container">
      <div class="row">
          <div class="col-lg-6 offset-lg-3">
              <div class="section-heading1">
                <h2 class="aboutfire"><a id="about"></a>About The Project</h2>
                <img src="https://mikefreel.com/wp-content/uploads/2021/11/aboutico.png" alt="fire">
                 <br>
                  <p style="text-align:center">Predict the Spread of Wildfire</p>
                  <br>
              </div>
          </div>
          <div class="col-lg-6">
              <ul class="features-items">
                  <li class="feature-item">
                      <div class="left-icon">
                          <img src="https://mikefreel.com/wp-content/uploads/2021/11/features-first-icon.png" alt="FireIco">
                      </div>
                      <div class="right-content">
                          <h4>Fire Information</h4>
                          <p>Wildfires have seemed to be increasing over time in both frequency and intensity. These wildfires impact the lives of humans and animals in surrounding cities and states. The massive loss of forest and greenery may also accelerate the impacts of climate change. 
                            If we can predict the location, size, and spread of a wildfire, we may be able to decrease the amount of natural life lost.</p>
                          <a href="#fireinfo" class="text-button">Learn More</a>
                      </div>
                  </li>
                  <li class="feature-item">
                      <div class="left-icon">
                          <img src="https://mikefreel.com/wp-content/uploads/2021/11/mlicon.png" alt="Machine Learning">
                      </div>
                      <div class="right-content">
                          <h4>Machine Learning</h4>
                          <p>Uses Jupyter Notebook to connect to our Heroku database to pull wildfire data and runs a random forest classifier and SMOTEENN model.</p>
                          <a href="#machinel" class="text-button">Learn More</a>
                      </div>
                  </li>
                 
              </ul>
          </div>
          <div class="col-lg-6">
              <ul class="features-items">
                  <li class="feature-item">
                      <div class="left-icon">
                          <img src="https://mikefreel.com/wp-content/uploads/2021/11/mapicon.png" alt="Fire Map">
                      </div>
                      <div class="right-content">
                          <h4>Fire Severity Map</h4>
                          <p>Check out where fires are and how severe.</p>
                          <a href="#fmap" class="text-button">Learn More</a>
                      </div>
                  </li>
                  <li class="feature-item">
              
                      <div class="right-content">
                          <h4>Predict The Spread of Wildfire</h4>
                          <p>Wildfires have seemed to be increasing over time in both frequency and intensity. These wildfires impact the lives of humans and animals in surrounding cities and states. The massive loss of forest and greenery may also accelerate the impacts of climate change. 
                          If we can predict the location, size, and spread of a wildfire, we may be able to decrease the amount of natural life lost.
                      
                        </p>
                          <p>Created By: Jiselle Jones, John-Paul Kivlin and Mike Freel </p>
                          <p>Site Resources: Stock Images <a href="https://www.pexels.com/">Pexels</a></p>
                      </div>
                  </li>
              </ul>
          </div>
      </div>
  </div>
</section>

<!-- End About - Project Information -->


<!-- Fire Acres Counter -->

<div class="bgimage1">
<div id="firecounter">
<h1 class="tah1">OREGON TOTAL ACRES BURNED: 1990 - 2020</h1>
<div class="loader">
<span class="count">5635434</span>
<script src="/static/js/counter.js"></script>
</div>
</div>
</div>

<!-- End Fire Acres Counter -->



<!-- Fire Stats -->
 <section class="section" id="sectionbreaks">
  <div class="container">
      <div class="row">
          <div class="col-lg-10 offset-lg-1">
              <div class="cta-content">
                  <h2><a id="fireinfo"></a>What <em>Are </em> Fires <em> Doing?</em></h2>
                  <p>(Description of burned structures / deaths etc)Ut consectetur, metus sit amet aliquet placerat, enim est ultricies ligula, sit amet dapibus odio augue eget libero. 
                    Morbi tempus mauris a nisi luctus imperdiet.</p>
              </div>
          </div>
      </div>
  </div>
</section>

<!-- End Fire Stats -->

<!-- Highcharts - Fire Totals -->
  <div id="container1">
    
  <script src="/static/js/lrtotals.js"></script>
    
  </div>


<!-- End Highcharts - Fire Totals -->


<!-- Banner - Machine Learning -->
  
  <div class="bgimage2">
    <div id="firecounter2">
    <h1 class="tah2">Machine Learning: Random Forest Classifier</h1>
    </div>
  </div>

<!-- End Banner - Machine Learning -->

       
 <!-- Machine Learning -->

 <section class="section" id="mlmodel" style="background-color: white;">
  <div class="container">
      <div class="row">
          <div class="col-lg-6 offset-lg-3">
              <div class="section-heading1">
                  <h2 style="color: black;"><a id="machinel"></a>Machine Learning Models</h2>
                  <img src="https://mikefreel.com/wp-content/uploads/2021/11/aboutico.png" alt="fire">
                  <p>The machine learning model uses three dataset combinations to predict fire severity based on supporting features.  The fire severity is binned into 3 classes, following  <a href="https://www.fs.fed.us/nwacfire/home/terminology.html.">USDA Forest Service</a> classification system.  The features for the models are; General Cause, Fuel Model, Latitude, Longitude, Fire Year and Weather data.
                  
                  </p>
              </div>
          </div>
      </div>
      <div class="row">
          <div class="col-lg-4">
              <div class="ml-item">
                  <div class="image-thumb">
                      <img src="https://mikefreel.com/wp-content/uploads/2021/11/ml-fire.jpg" alt="ml_fire">
                  </div>
                  <div class="down-content">
                      <span>Random Forest Classifier</span>
                      <h4>Fire Data: 2008 - 2020</h4>
                      <p>The first iteration of machine learning, with only fire data from 2008 - 2020.  The data for the project was sourced from <a href="https://apps.odf.oregon.gov/DIVISIONS/protection/fire_protection/fires/FIRESlist.asp">Oregon Department of Forestry.</a>
                        The data was compiled into a spreadsheet and through the process of ETL, made ready for the machine learning model.
                        Of the three models, this was the only one to successfully predict class 3 fire severity.  The macro averages for precision, recall and f1 score were also the highest.
                      </p>
                      <ul class="list-group">

                        <li class="list-group-item active">Macro Average %'s</li>
                        <li class="list-group-item">Precision - 46%</li>
                        <li class="list-group-item">Recall - 39%</li>
                        <li class="list-group-item">F1 - 40%</li>
                        
                      </ul>

                  </div>
              </div>
          </div>
          <div class="col-lg-4">
              <div class="ml-item">
                  <div class="image-thumb">
                      <img src="https://mikefreel.com/wp-content/uploads/2021/11/ml-fireweather.jpg" alt="ml_fireandweather">
                  </div>
                  <div class="down-content">
                      <span>Random Forest Classifier</span>
                      <h4>Fire and Weather Data: 2008 - 2020</h4>
                      <p>
                      The second iteration of our Machine Learning model.  Data was sourced through the <a href="https://www.fs.fed.us/nwacfire/home/terminology.html.">NOAA Weather Tool</a>.  Our features were updated to include; Average Temperature (Min/Max), Snow Depth, Snow Average and Average Preciptiation.  With the additional features our model showed a decrease in overall macro averages and a greater spread of feature importance.
                    </p>

                    <ul class="list-group">

                      <li class="list-group-item active">Macro Average %'s</li>
                      <li class="list-group-item">Precision - 43%</li>
                      <li class="list-group-item">Recall - 39%</li>
                      <li class="list-group-item">F1 - 39%</li>
                      
                    </ul>

                  </div>
              </div>
          </div>
          <div class="col-lg-4">
              <div class="ml-item">
                  <div class="image-thumb">
                      <img src="https://mikefreel.com/wp-content/uploads/2021/11/ml-fireaggweather.jpg" alt="fire_weatheraggtemp">
                  </div>
                  <div class="down-content">
                      <span>Random Forest Classifier</span>
                      <h4>Fire and Weather Data w/agg Temp: 2008 - 2020</h4>
                      <p>The third iteration of our Machine Learning model aggregated the average temperature for the month.  With 
                        this additional feature and the Weather data, ther was a slight decrease across our macro averages.  To aggregate 
                        the temperature (more information about the SQL process + example code?)
                      </p>

                      <ul class="list-group">

                        <li class="list-group-item active">Macro Average %'s</li>
                        <li class="list-group-item">Precision - 39%</li>
                        <li class="list-group-item">Recall - 37%</li>
                        <li class="list-group-item">F1 - 36%</li>
                        
                      </ul>

                  </div>
              </div>
          </div>
      </div>
  </div>
</section>

<!-- End - Machine Learning -->


<!-- RFC Feature Break-->

  <section class="section" id="sectionbreaks">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 offset-lg-1">
                <div class="cta-content">
                    <h2><a id="fmap"></a>RFC: <em>Feature </em> Importances</h2>
                    <p>The bar graph below shows which features are most important when predicting fire severity.
                      <br>
                      The three graphs represent each Machine Learning Model: Fire Data and Fire Data with Weather and aggregated temperature.
                    </p>
                </div>
            </div>
        </div>
    </div>
  </section>

<!-- End RFC Feature Break-->

<!-- RFC Graph -->

  <div id="container2">

    <script src="/static/js/rfcw.js"></script>    
  
  </div>

<!-- End - RFC Graph -->


<!-- Detecting Fire Severity -->

<section class="section" id="sectionbreaks">
  <div class="container" style="padding-bottom: 0px; padding-top: 0px">
      <div class="row">
          <div class="col-lg-10 offset-lg-1">
              <div class="cta-content">
                  <h2><a id="fmap"></a>Detecting <em>Fire </em> Severity</h2>
                  <p>The map below can be filtered to show actual fire location and severity level from the rand forest classifier test sets.
                  <br> The 3 fire severity levels were determined using the USDA Forest Service classifiction system:
                  <br>Class 1 - one-fourth acre or less
                  <br>Class 2 - more than one-fourth acre, but less than 300 acres
                  <br>Class 3 - 300 acres or more.
                  <br>Click on the fire marker in the map to see a pop-up displaying the name of the fire, the year, and the fire severity level.
                  <br>The graph shows the number of fires the model predicted at the selected severity level versus the same fire's actual severity levels.
                  <br>Use the dropdown menus to choose the the machine learning model and fire severity.
                  <br>Type the 4-digit year of the data you want to see in the "Year" field.
                  <br>If any field is left blank, all the data for that field will be displayed for the chosen model.
                  </p>
              </div>
          </div>
      </div>
  </div>
</section>

<!-- End Detecting Fire Severity -->


<!-- Fire Severity Map and Prediction Graph-->

<div class="container-fluid" style="padding-bottom: 100px; padding-top: 50px">
  <div class="row">
    <div class="col-md-2">
      <div class="bs-component">
        <form>
          <fieldset>
            <legend>Legend</legend>
            <div class="form-group">
              <label for="mlModel" class="form-label mt-4">ML Model</label>
              <select class="form-select" id="mlModel">
                <option>1</option>
                <option>2</option>
                <option>3</option>
              </select>
            </div>
            <div class="form-group">
              <label for="year" class="form-label mt-4">Type any Year <br>2008 to 2020<br></label>
              <input type="text" class="form-control" id="year" aria-describedby="yearHelp" placeholder="">
            </div>
            <div class="form-group">
              <label for="severity" class="form-label mt-4">Fire Severity</label>
              <select class="form-select" id="severity">
                <option></option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
              </select>
            </div>
            <div class="form-group">
              <button type="button" class="btn btn-primary" id="submitbutton">Submit</button>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
    <div class="col-md-5">
      <div id="map">
      </div>
    </div>
    <div class="col-md-5">  
      <div id="graphpredict"></div>
    </div>
  </div> 
</div>
  
<!-- End Fire Severity Map-->

<script> const mapBoxToken = '{{mapbox}}' </script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin=""></script> 
<script type="text/javascript" src = "../static/js/wildfiremap.js"></script>
  
</body>
</html>